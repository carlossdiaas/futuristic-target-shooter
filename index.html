<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1.0"/>
  <title>Futuristic Target Shooter</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <style>
    @import url('https://fonts.googleapis.com/css2?family=Orbitron:wght@400;700&display=swap');

    body { font-family: 'Orbitron', sans-serif; overflow: hidden; background:#0f0f23; color:#0ff; }
    .game-container { position: relative; width: 100vw; height: 100vh; cursor: none; }

    .neon-text { text-shadow: 0 0 5px #0ff, 0 0 10px #0ff, 0 0 15px #0ff; }
    .neon-border { box-shadow: 0 0 10px #0ff, 0 0 20px #0ff, inset 0 0 10px #0ff; border: 1px solid #0ff; }

    .target { position:absolute; border-radius:50%; cursor: none; transition: transform .1s; box-shadow:0 0 15px currentColor; }
    .target:hover { transform: scale(1.1); }
    .target-hit { animation: explode .5s forwards; }
    @keyframes explode { 0%{transform:scale(1);opacity:1} 50%{transform:scale(1.5);opacity:.5} 100%{transform:scale(0);opacity:0} }

    .laser { position:absolute; height:2px; background:#0ff; box-shadow:0 0 10px #0ff; transform-origin:left center; z-index:10; }

    /* Mira */
    .crosshair{
  position:absolute; top:0; left:0; pointer-events:none; z-index:30;
  transform:translate(-50%,-50%);
  color:#0ff; /* cor base */
filter: drop-shadow(0 0 3px #000) drop-shadow(0 0 8px #fff);
  transition: filter .12s ease, color .12s ease;
  will-change: transform;
}
.crosshair svg{ display:block; }

.crosshair.smooth { transition: none; } /* (controle fino via JS) */

/* quando mira está sobre um alvo */
.crosshair.aim { color:#ffff80; filter: drop-shadow(0 0 10px #ffff80); }

/* “recuo” breve ao atirar */
.crosshair.shoot { animation: crosshairShoot .11s ease; }
@keyframes crosshairShoot {
  0%   { transform: translate(-50%,-50%) scale(1); }
  50%  { transform: translate(-50%,-50%) scale(0.92); }
  100% { transform: translate(-50%,-50%) scale(1); }
}

/* hit-marker (um X rapidinho) */
.hitmarker{
  position:absolute; width:26px; height:26px; pointer-events:none; z-index:35;
  transform:translate(-50%,-50%); opacity:0; animation: hitmarker .18s ease forwards;
}
.hitmarker::before, .hitmarker::after{
  content:""; position:absolute; left:50%; top:50%; width:2px; height:26px; background:#fff;
  box-shadow:0 0 8px #fff;
}
.hitmarker::before{ transform:translate(-50%,-50%) rotate(45deg); }
.hitmarker::after { transform:translate(-50%,-50%) rotate(-45deg); }
@keyframes hitmarker {
  0%{ opacity:0; transform:translate(-50%,-50%) scale(0.7); }
  50%{ opacity:1; }
  100%{ opacity:0; transform:translate(-50%,-50%) scale(1.05); }
}


    /* Arma */
    .player { position:absolute; width:0; height:0; z-index:25; }
    .gun { position:absolute; left:0; top:0; width:140px; height:16px; transform-origin:0 50%; background:linear-gradient(90deg,#022,#0ff); border-radius:10px; box-shadow:0 0 12px #0ff; }
    .gun::after { content:""; position:absolute; right:-10px; top:50%; transform:translateY(-50%); width:16px; height:6px; background:#9ff; border-radius:4px; box-shadow:0 0 10px #9ff; }
    .gun-base { position:absolute; left:-10px; top:50%; transform:translateY(-50%); width:18px; height:18px; border-radius:50%; background:#033; box-shadow:0 0 12px #0ff inset, 0 0 12px #0ff; }

    /* Tabela ranking */
    .rank-table th, .rank-table td { border-bottom:1px solid rgba(0,255,255,.2); padding:.5rem .75rem; }
  </style>
</head>
<body class="bg-black text-white">
  <div class="game-container" id="gameContainer">
    <!-- HUD -->
    <div class="absolute top-4 left-4 z-20 bg-black/70 p-4 rounded-lg neon-border">
      <div class="flex items-start justify-between gap-6">
        <div>
          <h1 class="text-2xl font-bold mb-2 neon-text">FUTURISTIC TARGET SHOOTER</h1>
          <div class="flex items-end gap-8">
            <div>
              <p class="text-sm text-gray-400">SCORE</p>
              <p class="text-3xl font-bold neon-text" id="score">0</p>
            </div>
            <div>
              <p class="text-sm text-gray-400">TARGET</p>
              <p class="text-3xl font-bold neon-text">30</p>
            </div>
            <div>
              <p class="text-sm text-gray-400">TIMER</p>
              <p class="text-3xl font-bold neon-text" id="timer">00:00.0</p>
            </div>
          </div>
          <div class="mt-3">
            <button id="btnRestart" class="px-3 py-1 text-xs rounded neon-border hover:bg-cyan-900/30">Reiniciar</button>
          </div>
        </div>
      </div>
    </div>

    <!-- GAME OVER + RANKING LOCAL -->
    <div id="gameOver" class="hidden absolute inset-0 flex items-center justify-center z-30 bg-black/80">
      <div class="text-center p-8 rounded-lg neon-border max-w-lg w-[90vw]">
        <h2 class="text-4xl font-bold mb-2 neon-text">MISSION COMPLETE!</h2>
        <p class="text-xl mb-2">Você fez <span id="finalScore">30</span> pontos!</p>
        <p class="text-lg">Seu tempo: <span id="finalTime" class="neon-text">00:00.0</span></p>

        <div class="mt-4 flex items-center justify-center gap-2">
          <label for="playerNameInput" class="text-sm text-cyan-200">Nome:</label>
          <input id="playerNameInput" class="px-2 py-1 bg-transparent neon-border rounded text-cyan-100 text-sm w-40" placeholder="Player" />
          <button id="btnSaveScore" class="px-3 py-1 bg-transparent neon-border rounded text-sm hover:bg-blue-900/30">Salvar tempo</button>
        </div>

        <div class="text-left mt-6">
          <h3 class="text-2xl font-bold mb-3 neon-text">Ranking Local (Top 10)</h3>
          <table class="rank-table w-full text-cyan-100 text-sm">
            <thead>
              <tr class="text-cyan-300">
                <th class="text-left">#</th>
                <th class="text-left">Nome</th>
                <th class="text-left">Tempo</th>
                <th class="text-left">Data</th>
              </tr>
            </thead>
            <tbody id="rankBody"></tbody>
          </table>
          <p class="mt-2 text-xs text-cyan-300">Os tempos são salvos apenas neste dispositivo.</p>
        </div>

        <div class="mt-6 flex gap-3 justify-center">
          <button id="btnPlayAgain" class="px-6 py-3 bg-transparent neon-border rounded-lg hover:bg-blue-900/30 transition-all neon-text">Jogar Novamente</button>
        </div>
      </div>
    </div>

    <!-- MIRA -->
    <div id="crosshair" class="crosshair">
  <svg viewBox="0 0 48 48" width="48" height="48" aria-hidden="true">
    <!-- anel externo -->
    <circle cx="24" cy="24" r="18" fill="none" stroke="currentColor" stroke-width="2" opacity="0.95"/>
    <!-- anel interno -->
    <circle cx="24" cy="24" r="6" fill="none" stroke="currentColor" stroke-width="2" opacity="0.85"/>
    <!-- ticks -->
    <line x1="24" y1="0"  x2="24" y2="10" stroke="currentColor" stroke-width="2"/>
    <line x1="24" y1="38" x2="24" y2="48" stroke="currentColor" stroke-width="2"/>
    <line x1="0"  y1="24" x2="10" y2="24" stroke="currentColor" stroke-width="2"/>
    <line x1="38" y1="24" x2="48" y2="24" stroke="currentColor" stroke-width="2"/>
    <!-- ponto central -->
    <circle cx="24" cy="24" r="1.8" fill="currentColor"/>
  </svg>
</div>

    <!-- PLAYER + GUN -->
    <div id="player" class="player">
      <div class="gun-base"></div>
      <div id="gun" class="gun"></div>
    </div>
  </div>

  <script src="game.js" type="module"></script>
</body>
</html>
